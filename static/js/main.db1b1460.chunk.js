(this["webpackJsonpnews-and-weather"]=this["webpackJsonpnews-and-weather"]||[]).push([[0],{24:function(e,t,n){e.exports=n(55)},29:function(e,t,n){},30:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),c=n.n(o),i=(n(29),n(30),"FETCH_NEWS_SUCCESS"),l="FETCH_NEWS_PENDING",u="FETCH_NEWS_FAILED",d=n(6),s=n.n(d),g=n(3),p=(n(53),Object(g.b)((function(e){var t=e.newsList;return{newsListData:t.newsListData,pending:t.pending}}))((function(e){var t=e.newsListData,n=e.pending;return r.a.createElement("div",{className:"news-container"},!n&&t?t.data.articles.map((function(e){return r.a.createElement("div",{className:"newslist",key:e.url},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("h2",null,e.title)),r.a.createElement("p",null,e.source.name))})):null)}))),f=n(2),E=n(23),h="GET_GEO_LOCATION_SUCCESS",m="GET_GEO_LOCATION_FAILED",w="GET_GEO_LOCATION_PENDING",v="FETCH_WEATHER_PENDING",b="FETCH_WEATHER_SUCCESS",O="FETCH_WEATHER_FAILED";n(54);var y=Object(g.b)((function(e){var t=e.geoLocation,n=t.pending,a=t.location,r=e.weather;return{locationPending:n,locationCoordinates:a,weatherData:r.data,weatherPending:r.isPending}}),(function(e){return{getGeoLocation:function(){return e((function(e){e({type:w}),navigator.geolocation.getCurrentPosition((function(t){console.log(t.coords),e({type:h,payload:{latitude:t.coords.latitude,longitude:t.coords.longitude}})})),navigator.geolocation||e({type:m})}))},getWeatherReport:function(t){return e(function(e){var t=e.latitude,n=e.longitude;console.log("latitude",t);var a="https://api.openweathermap.org/data/2.5/weather?lat=".concat(t,"&lon=").concat(n,"&appid=48e1d541b5f45f74de028c9c43d25296");return function(e){e({type:v}),s.a.get(a).then((function(t){return e({type:b,payload:t})})).catch((function(t){return e({type:O,payload:t})}))}}(t))}}}))((function(e){var t=e.locationCoordinates,n=e.locationPending,o=e.getGeoLocation,c=e.getWeatherReport,i=e.weatherData,l=e.weatherPending,u=Object(a.useState)({currentTemperature:null}),d=Object(E.a)(u,2),s=d[0],g=d[1];return Object(a.useEffect)((function(){o()}),[o]),Object(a.useEffect)((function(){n||void 0===t||(console.log("getWeatherReport",t.latitude),c(t))}),[n,t]),Object(a.useEffect)((function(){l||null===i||g(Object(f.a)({},s,{currentTemperature:(i.data.main.temp-273).toFixed(1)}))}),[l,i]),r.a.createElement("div",null,n?r.a.createElement("h2",null,"Asking for geoLocation"):r.a.createElement("div",null,l||null===i?r.a.createElement("h4",null,"fetching weather ..."):r.a.createElement("div",{className:"weather-container effect3"},r.a.createElement("div",null,r.a.createElement("h4",null,i.data.name),r.a.createElement("h2",null,s.currentTemperature+" ","\u2103")),r.a.createElement("div",null,r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(i.data.weather[0].icon,"@2x.png"),alt:"weather-icon"})))))}));var j=Object(g.b)((function(e){return{data:e.weather.data}}),(function(e){return{requestNews:function(){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"in",t="https://gnews.io/api/v3/search?q=".concat(e,"&country=").concat(e,"&token=db9f2b7ed1de35a753578fa3022c9a7b");return function(e){e({type:l}),s.a.get(t).then((function(t){return e({type:i,payload:t})})).catch((function(t){return e({type:u,payload:t})}))}}())}}}))((function(e){var t=e.requestNews,n=e.data;return Object(a.useEffect)((function(){null!==n&&(t(n.data.sys.country),console.log("requesting news"))}),[t,n]),r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement(p,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=n(4),L={newsListData:null,error:null,pending:!1};var C={location:null,error:!1,pending:!0},N={isPending:!1,data:null,error:null},T=Object(_.c)({newsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(f.a)({},e,{pending:!0});case i:return Object(f.a)({},e,{pending:!1,newsListData:t.payload});case u:return Object(f.a)({},e,{pending:!1,error:t.payload});default:return e}},geoLocation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(f.a)({},e,{location:t.payload,pending:!1});case w:return Object(f.a)({},e,{pending:!0});case m:return Object(f.a)({},e,{pending:!1,error:!0});default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(f.a)({},e,{isPending:!0});case b:return Object(f.a)({},e,{data:t.payload,isPending:!1});case O:return Object(f.a)({},e,{error:t.payload});default:return e}}}),S=n(21),D=[n(22).a];Object(S.createLogger)();var P=Object(_.d)(T,_.a.apply(void 0,D));c.a.render(r.a.createElement(g.a,{store:P},r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.db1b1460.chunk.js.map